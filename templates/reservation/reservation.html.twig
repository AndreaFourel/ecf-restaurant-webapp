{% extends 'base.html.twig' %}

{% block title %}Hello ReservationController!{% endblock %}

{% block body %}
    <main>
        <section class="container-fluid user-action py-5 px-4 d-flex justify-content-center">
            <div class="container user-form">
                <h2 class="ms-3 mb-4 form-title">Réserver une table</h2>
                <div class="mt-3 p-3">

                    {{ form_start(reservationForm) }}
                    {{ form_row(reservationForm.guestQuantity, {
                        label: 'Nombre de convives'
                    }) }}
                    <div class="hideDiv show-reservation-div">
                        {{ form_row(reservationForm.reservationDay, {
                            label: 'Jour de réservation'
                        }) }}
                    </div>

                    <div id="reservationDate" class="hideDiv mt-3">
                        <span>Vous souhaitez réserver une table le </span>
                        <span class="day-name-field"></span>
                        <span class="day-field"></span>
                        <div class="day-available-places hideDiv"></div>
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="radio" name="radio" id="reservationDayRadioYes">
                            <label class="form-check-label" for="reservationDayRadioYes">
                                Je valide cette date
                            </label>
                        </div>
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="radio" name="radio" id="reservationDayRadioNon">
                            <label class="form-check-label" for="reservationDayRadioNon">
                                Je change la date
                            </label>
                        </div>
                    </div>
                    <div class="close-message hideDiv mt-3">
                        <p>Zut! Vous avez choisit un jour de fermeture...</p>
                        <p>Vérifiez nos horraires en peid de page et renouvellez votre choix en cochant 'Je change la date' ci-dessus.</p>
                        <p>Merci et à très vite!</p>
                    </div>
                    <div id="reservationTimeOfDay" class="mt-3 hideDiv">
                        <span>Vous souhaitez réserver:</span>
                        <div class="midi-available-places hideDiv"></div>
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="radio" name="radio" id="reservationMidi">
                            <label class="form-check-label" for="reservationMidi">
                                Midi
                            </label>
                        </div>
                        <div class="soir-available-places hideDiv"></div>
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="radio" name="radio" id="reservationSoir">
                            <label class="form-check-label" for="reservationSoir">
                                Soir
                            </label>
                        </div>
                    </div>

                    <label for="reservationTime"></label>
                    <select id="reservationTime" class="hideDiv mt-3 form-select" name="reservationTime"></select>


                    <div id="validation" class="mt-3 form-check hideDiv">
                        <input class="form-check-input" type="radio" id="validation">
                        <label class="form-check-label" for="validation">
                            Je vérifie et je valide mes choix
                        </label>
                    </div>

                    <div class="form-reservation-time hideDiv">
                        {{ form_row(reservationForm.reservationTime, {
                            label: 'Heure d\'arrivée'
                        }) }}
                    </div>

                    <div class="hideDiv secondary-display">
                        {{ form_row(reservationForm.email, {
                            label: 'Email'
                        }) }}
                        {{ form_row(reservationForm.firstName, {
                            label: 'Prénom'
                        }) }}
                        {{ form_row(reservationForm.allergyList, {
                            label: 'Allergies allimentaire connues (pour vous et vos convives)'
                        }) }}
                    </div>


                    <button type="submit" class="hideDiv btn btn-lg btn-form my-3 mt-5 reservation-btn">Réserver</button>
                    {{ form_end(reservationForm) }}
                </div>


            </div>
        </section>
    </main>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('scripts/reservation/reservation.js') }}" type="module"></script>
{% endblock %}